<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>前缀和 - 未命名文档</title>
    
<link rel="stylesheet" type="text/css" href="asset/plugins/theme-default/829.index.css"></head>
<body>
<div id="root"><div><div class="Loading__loading___1m_fZ"><div class="Loading__bar___21yOt" style="background: rgb(33, 186, 69); width: 0%; display: none;"><div class="Loading__peg___3Y_28"></div></div></div><div class="Loading__spinner___11Pm4"><div class="Loading__icon___3OOyu" style="display: none; border-color: #21ba45;"></div></div></div><div class="body--4cb30f26 with-sidebar--64a35dd2"><div class="sidebar--92cdcd4d"><div class="header--fbbaa9f2"><a class="title--8b08af4e" href="."><img src="logo.png" width="30" height="30">未命名文档</a><div class="search--783540ff"><input type="search" placeholder="请输入搜索关键词……" value=""></div></div><div class="body--4cb30f26"><div class="summary--54538abb"><ul><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="1.html">Introduction</a></div></li><li class="open--57a75e6f"><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 01.753 1.659l-4.796 5.48a1 1 0 01-1.506 0z"></path></svg></span><a class="text--59d9f9de" href="2.html">第一章 - 算法专题</a></div><ul><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="3.html">数据结构</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="4.html">基础算法</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="5.html">二叉树的遍历</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="6.html">动态规划</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="7.html">哈夫曼编码和游程编码</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="8.html">布隆过滤器</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="9.html">字符串问题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="10.html">前缀树专题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="11.html">《贪婪策略》专题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="12.html">《深度优先遍历》专题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="13.html">滑动窗口（思路 + 模板）</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="14.html">位运算</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="15.html">设计题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="16.html">小岛问题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="17.html">最大公约数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="18.html">并查集</a></div></li><li class=""><div class="item--9cbf6482 active--c30e4dc0"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="19.html">前缀和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="20.html">平衡二叉树专题</a></div></li></ul></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 011.659-.753l5.48 4.796a1 1 0 010 1.506z"></path></svg></span><a class="text--59d9f9de" href="21.html">第二章 - 91 天学算法</a></div><ul><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="22.html">第一期讲义-二分法</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="23.html">第一期讲义-双指针</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="24.html">第二期</a></div></li></ul></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 011.659-.753l5.48 4.796a1 1 0 010 1.506z"></path></svg></span><a class="text--59d9f9de" href="25.html">第三章 - 精选题解</a></div><ul><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="26.html">《日程安排》专题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="27.html">《构造二叉树》专题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="28.html">字典序列删除</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="29.html">百度的算法面试题 * 祖玛游戏</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="30.html">西法的刷题秘籍】一次搞定前缀和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="31.html">字节跳动的算法面试题是什么难度？</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="32.html">字节跳动的算法面试题是什么难度？（第二弹）</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="33.html">《我是你的妈妈呀》 * 第一期</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="34.html">一文带你看懂二叉树的序列化</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="35.html">穿上衣服我就不认识你了？来聊聊最长上升子序列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="36.html">你的衣服我扒了 * 《最长公共子序列》</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="37.html">一文看懂《最大子序列和问题》</a></div></li></ul></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 011.659-.753l5.48 4.796a1 1 0 010 1.506z"></path></svg></span><a class="text--59d9f9de" href="38.html">第四章 - 高频考题（简单）</a></div><ul><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="39.html">面试题 17.12. BiNode</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="40.html">0001. 两数之和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="41.html">0020. 有效的括号</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="42.html">0021. 合并两个有序链表</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="43.html">0026. 删除排序数组中的重复项</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="44.html">0053. 最大子序和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="45.html">0088. 合并两个有序数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="46.html">0101. 对称二叉树</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="47.html">0104. 二叉树的最大深度</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="48.html">0108. 将有序数组转换为二叉搜索树</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="49.html">0121. 买卖股票的最佳时机</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="50.html">0122. 买卖股票的最佳时机 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="51.html">0125. 验证回文串</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="52.html">0136. 只出现一次的数字</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="53.html">0155. 最小栈</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="54.html">0167. 两数之和 II * 输入有序数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="55.html">0169. 多数元素</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="56.html">0172. 阶乘后的零</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="57.html">0190. 颠倒二进制位</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="58.html">0191. 位1的个数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="59.html">0198. 打家劫舍</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="60.html">0203. 移除链表元素</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="61.html">0206. 反转链表</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="62.html">0219. 存在重复元素 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="63.html">0226. 翻转二叉树</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="64.html">0232. 用栈实现队列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="65.html">0263. 丑数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="66.html">0283. 移动零</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="67.html">0342. 4的幂</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="68.html">0349. 两个数组的交集</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="69.html">0371. 两整数之和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="70.html">0437. 路径总和 III</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="71.html">0455. 分发饼干</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="72.html">0575. 分糖果</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="73.html">0874. 模拟行走机器人</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="74.html">1260. 二维网格迁移</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="75.html">1332. 删除回文子序列</a></div></li></ul></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 011.659-.753l5.48 4.796a1 1 0 010 1.506z"></path></svg></span><a class="text--59d9f9de" href="76.html">第五章 - 高频考题（中等）</a></div><ul><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="77.html">0002. 两数相加</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="78.html">0003. 无重复字符的最长子串</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="79.html">0005. 最长回文子串</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="80.html">0011. 盛最多水的容器</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="81.html">0015. 三数之和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="82.html">0017. 电话号码的字母组合</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="83.html">0019. 删除链表的倒数第N个节点</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="84.html">0022. 括号生成</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="85.html">0024. 两两交换链表中的节点</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="86.html">0029. 两数相除</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="87.html">0031. 下一个排列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="88.html">0033. 搜索旋转排序数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="89.html">0039. 组合总和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="90.html">0040. 组合总和 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="91.html">0046. 全排列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="92.html">0047. 全排列 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="93.html">0048. 旋转图像</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="94.html">0049. 字母异位词分组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="95.html">0050. Pow(x, n)</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="96.html">0055. 跳跃游戏</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="97.html">0056. 合并区间</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="98.html">0060. 第k个排列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="99.html">0062. 不同路径</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="100.html">0073. 矩阵置零</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="101.html">0075. 颜色分类</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="102.html">0078. 子集</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="103.html">0079. 单词搜索</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="104.html">0080. 删除排序数组中的重复项 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="105.html">0086. 分隔链表</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="106.html">0090. 子集 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="107.html">0091. 解码方法</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="108.html">0092. 反转链表 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="109.html">0094. 二叉树的中序遍历</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="110.html">0095. 不同的二叉搜索树 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="111.html">0096. 不同的二叉搜索树</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="112.html">0098. 验证二叉搜索树</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="113.html">0102. 二叉树的层序遍历</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="114.html">0103. 二叉树的锯齿形层次遍历</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="115.html">105. 从前序与中序遍历序列构造二叉树</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="116.html">0113. 路径总和 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="117.html">0129. 求根到叶子节点数字之和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="118.html">0130. 被围绕的区域</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="119.html">0131. 分割回文串</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="120.html">0139. 单词拆分</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="121.html">0144. 二叉树的前序遍历</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="122.html">0150. 逆波兰表达式求值</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="123.html">0152. 乘积最大子数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="124.html">0199. 二叉树的右视图</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="125.html">0200. 岛屿数量</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="126.html">0201. 数字范围按位与</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="127.html">0208. 实现 Trie (前缀树)</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="128.html">0209. 长度最小的子数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="129.html">0211. 添加与搜索单词 * 数据结构设计</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="130.html">0215. 数组中的第K个最大元素</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="131.html">0221. 最大正方形</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="132.html">0229. 求众数 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="133.html">0230. 二叉搜索树中第K小的元素</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="134.html">0236. 二叉树的最近公共祖先</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="135.html">0238. 除自身以外数组的乘积</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="136.html">0240. 搜索二维矩阵 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="137.html">0279. 完全平方数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="138.html">0309. 最佳买卖股票时机含冷冻期</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="139.html">0322. 零钱兑换</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="140.html">0328. 奇偶链表</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="141.html">0334. 递增的三元子序列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="142.html">0337. 打家劫舍 III</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="143.html">0343. 整数拆分</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="144.html">0365. 水壶问题</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="145.html">0378. 有序矩阵中第K小的元素</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="146.html">0380. 常数时间插入、删除和获取随机元素</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="147.html">0416. 分割等和子集</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="148.html">0445. 两数相加 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="149.html">0454. 四数相加 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="150.html">0494. 目标和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="151.html">0516. 最长回文子序列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="152.html">0518. 零钱兑换 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="153.html">0547. 朋友圈</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="154.html">0560. 和为K的子数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="155.html">0609. 在系统中查找重复文件</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="156.html">0611. 有效三角形的个数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="157.html">0718. 最长重复子数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="158.html">0754. 到达终点数字</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="159.html">0785. 判断二分图</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="160.html">0820. 单词的压缩编码</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="161.html">0875. 爱吃香蕉的珂珂</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="162.html">0877. 石子游戏</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="163.html">0886. 可能的二分法</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="164.html">0900. RLE 迭代器</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="165.html">0912. 排序数组</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="166.html">0935. 骑士拨号器</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="167.html">1011. 在 D 天内送达包裹的能力</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="168.html">1014. 最佳观光组合</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="169.html">1015. 可被 K 整除的最小整数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="170.html">1019. 链表中的下一个更大节点</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="171.html">1020. 飞地的数量</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="172.html">1023. 驼峰式匹配</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="173.html">1031. 两个非重叠子数组的最大和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="174.html">1104. 二叉树寻路</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="175.html">1131.绝对值表达式的最大值</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="176.html">1186. 删除一次得到子数组最大和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="177.html">1218. 最长定差子序列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="178.html">1227. 飞机座位分配概率</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="179.html">1261. 在受污染的二叉树中查找元素</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="180.html">1262. 可被三整除的最大和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="181.html">1297. 子串的最大出现次数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="182.html">1310. 子数组异或查询</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="183.html">1334. 阈值距离内邻居最少的城市</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="184.html">1371.每个元音包含偶数次的最长子字符串</a></div></li></ul></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" height="12" width="12" xmlns="http://www.w3.org/2000/svg"><path d="M12.14 8.753l-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 011.659-.753l5.48 4.796a1 1 0 010 1.506z"></path></svg></span><a class="text--59d9f9de" href="185.html">第六章 - 高频考题（困难）</a></div><ul><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="186.html">0004. 寻找两个正序数组的中位数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="187.html">0023. 合并K个升序链表</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="188.html">0025. K 个一组翻转链表</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="189.html">0030. 串联所有单词的子串</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="190.html">0032. 最长有效括号</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="191.html">0042. 接雨水</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="192.html">0052. N皇后 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="193.html">0084. 柱状图中最大的矩形</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="194.html">0085. 最大矩形</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="195.html">0124. 二叉树中的最大路径和</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="196.html">0128. 最长连续序列</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="197.html">0145. 二叉树的后序遍历</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="198.html">0212. 单词搜索 II</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="199.html">0239. 滑动窗口最大值</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="200.html">0295. 数据流的中位数</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="201.html">0301. 删除无效的括号</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="202.html">0312. 戳气球</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="203.html">0335. 路径交叉</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="204.html">0460. LFU缓存</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="205.html">0472. 连接词</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="206.html">0488. 祖玛游戏</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="207.html">0493. 翻转对</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="208.html">0887. 鸡蛋掉落</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="209.html">0895. 最大频率栈</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="210.html">1032. 字符流</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="211.html">1168. 水资源分配优化</a></div></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="212.html">1449. 数位成本和为目标值的最大数字</a></div></li></ul></li><li class=""><div class="item--9cbf6482"><div class="whole--9f70f484"></div><span class="space--8603ccbf"></span><a class="text--59d9f9de" href="213.html">后序</a></div></li></ul></div></div><div class="copyright--2aa57f2d">本文档使用 <a href="https://x.topthink.com" target="_blank">顶想云</a> 构建</div></div><div class="main--6aaec551"><div class="toolbar--af3e5b9e"><h1>前缀和</h1></div><div class="markdown-body"><h1>前缀和</h1><p>我花了几天时间，从力扣中精选了五道相同思想的题目，来帮助大家解套，如果觉得文章对你有用，记得点赞分享，让我看到你的认可，有动力继续做下去。</p><ul><li><a href="https://leetcode-cn.com/problems/unique-substrings-in-wraparound-string/" title="467. 环绕字符串中唯一的子字符串" target="_blank">467. 环绕字符串中唯一的子字符串</a>(中等)</li><li><a href="https://leetcode-cn.com/problems/number-of-subarrays-with-bounded-maximum/" title="795. 区间子数组个数" target="_blank">795. 区间子数组个数</a>(中等)</li><li><a href="https://leetcode-cn.com/problems/fruit-into-baskets/" title="904. 水果成篮" target="_blank">904. 水果成篮</a>(中等)</li><li><a href="https://leetcode-cn.com/problems/subarrays-with-k-different-integers/" title="992. K 个不同整数的子数组" target="_blank">992. K 个不同整数的子数组</a>（困难）</li><li><a href="https://leetcode-cn.com/problems/corporate-flight-bookings/" title="1109. 航班预订统计" target="_blank">1109. 航班预订统计</a>(中等)</li></ul><p>前四道题都是滑动窗口的子类型，我们知道滑动窗口适合在题目要求连续的情况下使用， 而<a href="https://oi-wiki.org/basic/prefix-sum/" title="前缀和" target="_blank">前缀和</a>也是如此。二者在连续问题中，对于<strong>优化时间复杂度</strong>有着很重要的意义。 因此如果一道题你可以用暴力解决出来，而且题目恰好有连续的限制， 那么滑动窗口和前缀和等技巧就应该被想到。</p><p>除了这几道题， 还有很多题目都是类似的套路， 大家可以在学习过程中进行体会。今天我们就来一起学习一下。</p><h2>前菜</h2><p>我们从一个简单的问题入手，识别一下这种题的基本形式和套路，为之后的四道题打基础。当你了解了这个套路之后， 之后做这种题就可以直接套。</p><p>需要注意的是这四道题的前置知识都是 <code>滑动窗口</code>， 不熟悉的同学可以先看下我之前写的 <a href="https://github.com/azl397985856/leetcode/blob/master/thinkings/slide-window.md" title="滑动窗口专题（思路 + 模板）" target="_blank">滑动窗口专题（思路 + 模板）</a></p><h3>母题 0</h3><p>有 N 个的正整数放到数组 A 里，现在要求一个新的数组 B，新数组的第 i 个数 B[i]是原数组 A 第 0 到第 i 个数的和。</p><p>这道题可以使用前缀和来解决。 前缀和是一种重要的预处理，能大大降低查询的时间复杂度。我们可以简单理解为“数列的前 n 项的和”。这个概念其实很容易理解，即一个数组中，第 n 位存储的是数组前 n 个数字的和。</p><p>对 [1,2,3,4,5,6] 来说，其前缀和可以是 pre=[1,3,6,10,15,21]。我们可以使用公式 pre[𝑖]=pre[𝑖−1]+nums[𝑖]得到每一位前缀和的值，从而通过前缀和进行相应的计算和解题。其实前缀和的概念很简单，但困难的是如何在题目中使用前缀和以及如何使用前缀和的关系来进行解题。</p><p>题目推荐： <a href="https://leetcode-cn.com/problems/running-sum-of-1d-array/" target="_blank">1480. 一维数组的动态和</a></p><h3>母题 1</h3><p>如果让你求一个数组的连续子数组总个数，你会如何求？其中连续指的是数组的索引连续。 比如 [1,3,4]，其连续子数组有：<code>[1], [3], [4], [1,3], [3,4] , [1,3,4]</code>，你需要返回 6。</p><p>一种思路是总的连续子数组个数等于：<strong>以索引为 0 结尾的子数组个数 + 以索引为 1 结尾的子数组个数 + ... + 以索引为 n - 1 结尾的子数组个数</strong>，这无疑是完备的。</p><p><img src="images/c104f4899a80ae9a1e2d745e8afdd13e56d43a19.jpg" alt=""></p><p>同时<strong>利用母题 0 的前缀和思路， 边遍历边求和。</strong></p><p>参考代码(JS)：</p><pre><code>&lt;pre class="calibre18"&gt;```
&lt;span class="hljs-function"&gt;&lt;span class="hljs-keyword"&gt;function&lt;/span&gt; &lt;span class="hljs-title"&gt;countSubArray&lt;/span&gt;(&lt;span class="hljs-params"&gt;nums&lt;/span&gt;) &lt;/span&gt;{
  &lt;span class="hljs-keyword"&gt;let&lt;/span&gt; ans = &lt;span class="hljs-params"&gt;0&lt;/span&gt;;
  &lt;span class="hljs-keyword"&gt;let&lt;/span&gt; pre = &lt;span class="hljs-params"&gt;0&lt;/span&gt;;
  &lt;span class="hljs-keyword"&gt;for&lt;/span&gt; (_ &lt;span class="hljs-keyword"&gt;in&lt;/span&gt; nums) {
    pre += &lt;span class="hljs-params"&gt;1&lt;/span&gt;;
    ans += pre;
  }
  &lt;span class="hljs-keyword"&gt;return&lt;/span&gt; ans;
}

</code></pre><pre><code>
**复杂度分析**

- 时间复杂度：O(N)O(N)O(N)，其中 N 为数组长度。
- 空间复杂度：O(1)O(1)O(1)

而由于以索引为 i 结尾的子数组个数就是 i + 1，因此这道题可以直接用等差数列求和公式 `(1 + n) * n / 2`，其中 n 数组长度。

### 母题 2

我继续修改下题目， 如果让你求一个数组相邻差为 1 连续子数组的总个数呢？其实就是**索引差 1 的同时，值也差 1。**

和上面思路类似，无非就是增加差值的判断。

参考代码(JS)：

</code></pre></div><div class="navigation--93943883"><span class="prev--8f062b74">上一篇:<a href="18.html">并查集</a></span><span class="next--1623c556">下一篇:<a href="20.html">平衡二叉树专题</a></span></div></div></div></div>
<script type="application/payload+json">
{"book":{"id":"219169308@github"},"summary":[{"title":"","articles":[{"title":"Introduction","ref":"1.md","path":"1.html","children":[]},{"title":"第一章 - 算法专题","ref":"2.md","path":"2.html","children":[{"title":"数据结构","ref":"3.md","path":"3.html","children":[]},{"title":"基础算法","ref":"4.md","path":"4.html","children":[]},{"title":"二叉树的遍历","ref":"5.md","path":"5.html","children":[]},{"title":"动态规划","ref":"6.md","path":"6.html","children":[]},{"title":"哈夫曼编码和游程编码","ref":"7.md","path":"7.html","children":[]},{"title":"布隆过滤器","ref":"8.md","path":"8.html","children":[]},{"title":"字符串问题","ref":"9.md","path":"9.html","children":[]},{"title":"前缀树专题","ref":"10.md","path":"10.html","children":[]},{"title":"《贪婪策略》专题","ref":"11.md","path":"11.html","children":[]},{"title":"《深度优先遍历》专题","ref":"12.md","path":"12.html","children":[]},{"title":"滑动窗口（思路 + 模板）","ref":"13.md","path":"13.html","children":[]},{"title":"位运算","ref":"14.md","path":"14.html","children":[]},{"title":"设计题","ref":"15.md","path":"15.html","children":[]},{"title":"小岛问题","ref":"16.md","path":"16.html","children":[]},{"title":"最大公约数","ref":"17.md","path":"17.html","children":[]},{"title":"并查集","ref":"18.md","path":"18.html","children":[]},{"title":"前缀和","ref":"19.md","path":"19.html","children":[]},{"title":"平衡二叉树专题","ref":"20.md","path":"20.html","children":[]}]},{"title":"第二章 - 91 天学算法","ref":"21.md","path":"21.html","children":[{"title":"第一期讲义-二分法","ref":"22.md","path":"22.html","children":[]},{"title":"第一期讲义-双指针","ref":"23.md","path":"23.html","children":[]},{"title":"第二期","ref":"24.md","path":"24.html","children":[]}]},{"title":"第三章 - 精选题解","ref":"25.md","path":"25.html","children":[{"title":"《日程安排》专题","ref":"26.md","path":"26.html","children":[]},{"title":"《构造二叉树》专题","ref":"27.md","path":"27.html","children":[]},{"title":"字典序列删除","ref":"28.md","path":"28.html","children":[]},{"title":"百度的算法面试题 * 祖玛游戏","ref":"29.md","path":"29.html","children":[]},{"title":"西法的刷题秘籍】一次搞定前缀和","ref":"30.md","path":"30.html","children":[]},{"title":"字节跳动的算法面试题是什么难度？","ref":"31.md","path":"31.html","children":[]},{"title":"字节跳动的算法面试题是什么难度？（第二弹）","ref":"32.md","path":"32.html","children":[]},{"title":"《我是你的妈妈呀》 * 第一期","ref":"33.md","path":"33.html","children":[]},{"title":"一文带你看懂二叉树的序列化","ref":"34.md","path":"34.html","children":[]},{"title":"穿上衣服我就不认识你了？来聊聊最长上升子序列","ref":"35.md","path":"35.html","children":[]},{"title":"你的衣服我扒了 * 《最长公共子序列》","ref":"36.md","path":"36.html","children":[]},{"title":"一文看懂《最大子序列和问题》","ref":"37.md","path":"37.html","children":[]}]},{"title":"第四章 - 高频考题（简单）","ref":"38.md","path":"38.html","children":[{"title":"面试题 17.12. BiNode","ref":"39.md","path":"39.html","children":[]},{"title":"0001. 两数之和","ref":"40.md","path":"40.html","children":[]},{"title":"0020. 有效的括号","ref":"41.md","path":"41.html","children":[]},{"title":"0021. 合并两个有序链表","ref":"42.md","path":"42.html","children":[]},{"title":"0026. 删除排序数组中的重复项","ref":"43.md","path":"43.html","children":[]},{"title":"0053. 最大子序和","ref":"44.md","path":"44.html","children":[]},{"title":"0088. 合并两个有序数组","ref":"45.md","path":"45.html","children":[]},{"title":"0101. 对称二叉树","ref":"46.md","path":"46.html","children":[]},{"title":"0104. 二叉树的最大深度","ref":"47.md","path":"47.html","children":[]},{"title":"0108. 将有序数组转换为二叉搜索树","ref":"48.md","path":"48.html","children":[]},{"title":"0121. 买卖股票的最佳时机","ref":"49.md","path":"49.html","children":[]},{"title":"0122. 买卖股票的最佳时机 II","ref":"50.md","path":"50.html","children":[]},{"title":"0125. 验证回文串","ref":"51.md","path":"51.html","children":[]},{"title":"0136. 只出现一次的数字","ref":"52.md","path":"52.html","children":[]},{"title":"0155. 最小栈","ref":"53.md","path":"53.html","children":[]},{"title":"0167. 两数之和 II * 输入有序数组","ref":"54.md","path":"54.html","children":[]},{"title":"0169. 多数元素","ref":"55.md","path":"55.html","children":[]},{"title":"0172. 阶乘后的零","ref":"56.md","path":"56.html","children":[]},{"title":"0190. 颠倒二进制位","ref":"57.md","path":"57.html","children":[]},{"title":"0191. 位1的个数","ref":"58.md","path":"58.html","children":[]},{"title":"0198. 打家劫舍","ref":"59.md","path":"59.html","children":[]},{"title":"0203. 移除链表元素","ref":"60.md","path":"60.html","children":[]},{"title":"0206. 反转链表","ref":"61.md","path":"61.html","children":[]},{"title":"0219. 存在重复元素 II","ref":"62.md","path":"62.html","children":[]},{"title":"0226. 翻转二叉树","ref":"63.md","path":"63.html","children":[]},{"title":"0232. 用栈实现队列","ref":"64.md","path":"64.html","children":[]},{"title":"0263. 丑数","ref":"65.md","path":"65.html","children":[]},{"title":"0283. 移动零","ref":"66.md","path":"66.html","children":[]},{"title":"0342. 4的幂","ref":"67.md","path":"67.html","children":[]},{"title":"0349. 两个数组的交集","ref":"68.md","path":"68.html","children":[]},{"title":"0371. 两整数之和","ref":"69.md","path":"69.html","children":[]},{"title":"0437. 路径总和 III","ref":"70.md","path":"70.html","children":[]},{"title":"0455. 分发饼干","ref":"71.md","path":"71.html","children":[]},{"title":"0575. 分糖果","ref":"72.md","path":"72.html","children":[]},{"title":"0874. 模拟行走机器人","ref":"73.md","path":"73.html","children":[]},{"title":"1260. 二维网格迁移","ref":"74.md","path":"74.html","children":[]},{"title":"1332. 删除回文子序列","ref":"75.md","path":"75.html","children":[]}]},{"title":"第五章 - 高频考题（中等）","ref":"76.md","path":"76.html","children":[{"title":"0002. 两数相加","ref":"77.md","path":"77.html","children":[]},{"title":"0003. 无重复字符的最长子串","ref":"78.md","path":"78.html","children":[]},{"title":"0005. 最长回文子串","ref":"79.md","path":"79.html","children":[]},{"title":"0011. 盛最多水的容器","ref":"80.md","path":"80.html","children":[]},{"title":"0015. 三数之和","ref":"81.md","path":"81.html","children":[]},{"title":"0017. 电话号码的字母组合","ref":"82.md","path":"82.html","children":[]},{"title":"0019. 删除链表的倒数第N个节点","ref":"83.md","path":"83.html","children":[]},{"title":"0022. 括号生成","ref":"84.md","path":"84.html","children":[]},{"title":"0024. 两两交换链表中的节点","ref":"85.md","path":"85.html","children":[]},{"title":"0029. 两数相除","ref":"86.md","path":"86.html","children":[]},{"title":"0031. 下一个排列","ref":"87.md","path":"87.html","children":[]},{"title":"0033. 搜索旋转排序数组","ref":"88.md","path":"88.html","children":[]},{"title":"0039. 组合总和","ref":"89.md","path":"89.html","children":[]},{"title":"0040. 组合总和 II","ref":"90.md","path":"90.html","children":[]},{"title":"0046. 全排列","ref":"91.md","path":"91.html","children":[]},{"title":"0047. 全排列 II","ref":"92.md","path":"92.html","children":[]},{"title":"0048. 旋转图像","ref":"93.md","path":"93.html","children":[]},{"title":"0049. 字母异位词分组","ref":"94.md","path":"94.html","children":[]},{"title":"0050. Pow(x, n)","ref":"95.md","path":"95.html","children":[]},{"title":"0055. 跳跃游戏","ref":"96.md","path":"96.html","children":[]},{"title":"0056. 合并区间","ref":"97.md","path":"97.html","children":[]},{"title":"0060. 第k个排列","ref":"98.md","path":"98.html","children":[]},{"title":"0062. 不同路径","ref":"99.md","path":"99.html","children":[]},{"title":"0073. 矩阵置零","ref":"100.md","path":"100.html","children":[]},{"title":"0075. 颜色分类","ref":"101.md","path":"101.html","children":[]},{"title":"0078. 子集","ref":"102.md","path":"102.html","children":[]},{"title":"0079. 单词搜索","ref":"103.md","path":"103.html","children":[]},{"title":"0080. 删除排序数组中的重复项 II","ref":"104.md","path":"104.html","children":[]},{"title":"0086. 分隔链表","ref":"105.md","path":"105.html","children":[]},{"title":"0090. 子集 II","ref":"106.md","path":"106.html","children":[]},{"title":"0091. 解码方法","ref":"107.md","path":"107.html","children":[]},{"title":"0092. 反转链表 II","ref":"108.md","path":"108.html","children":[]},{"title":"0094. 二叉树的中序遍历","ref":"109.md","path":"109.html","children":[]},{"title":"0095. 不同的二叉搜索树 II","ref":"110.md","path":"110.html","children":[]},{"title":"0096. 不同的二叉搜索树","ref":"111.md","path":"111.html","children":[]},{"title":"0098. 验证二叉搜索树","ref":"112.md","path":"112.html","children":[]},{"title":"0102. 二叉树的层序遍历","ref":"113.md","path":"113.html","children":[]},{"title":"0103. 二叉树的锯齿形层次遍历","ref":"114.md","path":"114.html","children":[]},{"title":"105. 从前序与中序遍历序列构造二叉树","ref":"115.md","path":"115.html","children":[]},{"title":"0113. 路径总和 II","ref":"116.md","path":"116.html","children":[]},{"title":"0129. 求根到叶子节点数字之和","ref":"117.md","path":"117.html","children":[]},{"title":"0130. 被围绕的区域","ref":"118.md","path":"118.html","children":[]},{"title":"0131. 分割回文串","ref":"119.md","path":"119.html","children":[]},{"title":"0139. 单词拆分","ref":"120.md","path":"120.html","children":[]},{"title":"0144. 二叉树的前序遍历","ref":"121.md","path":"121.html","children":[]},{"title":"0150. 逆波兰表达式求值","ref":"122.md","path":"122.html","children":[]},{"title":"0152. 乘积最大子数组","ref":"123.md","path":"123.html","children":[]},{"title":"0199. 二叉树的右视图","ref":"124.md","path":"124.html","children":[]},{"title":"0200. 岛屿数量","ref":"125.md","path":"125.html","children":[]},{"title":"0201. 数字范围按位与","ref":"126.md","path":"126.html","children":[]},{"title":"0208. 实现 Trie (前缀树)","ref":"127.md","path":"127.html","children":[]},{"title":"0209. 长度最小的子数组","ref":"128.md","path":"128.html","children":[]},{"title":"0211. 添加与搜索单词 * 数据结构设计","ref":"129.md","path":"129.html","children":[]},{"title":"0215. 数组中的第K个最大元素","ref":"130.md","path":"130.html","children":[]},{"title":"0221. 最大正方形","ref":"131.md","path":"131.html","children":[]},{"title":"0229. 求众数 II","ref":"132.md","path":"132.html","children":[]},{"title":"0230. 二叉搜索树中第K小的元素","ref":"133.md","path":"133.html","children":[]},{"title":"0236. 二叉树的最近公共祖先","ref":"134.md","path":"134.html","children":[]},{"title":"0238. 除自身以外数组的乘积","ref":"135.md","path":"135.html","children":[]},{"title":"0240. 搜索二维矩阵 II","ref":"136.md","path":"136.html","children":[]},{"title":"0279. 完全平方数","ref":"137.md","path":"137.html","children":[]},{"title":"0309. 最佳买卖股票时机含冷冻期","ref":"138.md","path":"138.html","children":[]},{"title":"0322. 零钱兑换","ref":"139.md","path":"139.html","children":[]},{"title":"0328. 奇偶链表","ref":"140.md","path":"140.html","children":[]},{"title":"0334. 递增的三元子序列","ref":"141.md","path":"141.html","children":[]},{"title":"0337. 打家劫舍 III","ref":"142.md","path":"142.html","children":[]},{"title":"0343. 整数拆分","ref":"143.md","path":"143.html","children":[]},{"title":"0365. 水壶问题","ref":"144.md","path":"144.html","children":[]},{"title":"0378. 有序矩阵中第K小的元素","ref":"145.md","path":"145.html","children":[]},{"title":"0380. 常数时间插入、删除和获取随机元素","ref":"146.md","path":"146.html","children":[]},{"title":"0416. 分割等和子集","ref":"147.md","path":"147.html","children":[]},{"title":"0445. 两数相加 II","ref":"148.md","path":"148.html","children":[]},{"title":"0454. 四数相加 II","ref":"149.md","path":"149.html","children":[]},{"title":"0494. 目标和","ref":"150.md","path":"150.html","children":[]},{"title":"0516. 最长回文子序列","ref":"151.md","path":"151.html","children":[]},{"title":"0518. 零钱兑换 II","ref":"152.md","path":"152.html","children":[]},{"title":"0547. 朋友圈","ref":"153.md","path":"153.html","children":[]},{"title":"0560. 和为K的子数组","ref":"154.md","path":"154.html","children":[]},{"title":"0609. 在系统中查找重复文件","ref":"155.md","path":"155.html","children":[]},{"title":"0611. 有效三角形的个数","ref":"156.md","path":"156.html","children":[]},{"title":"0718. 最长重复子数组","ref":"157.md","path":"157.html","children":[]},{"title":"0754. 到达终点数字","ref":"158.md","path":"158.html","children":[]},{"title":"0785. 判断二分图","ref":"159.md","path":"159.html","children":[]},{"title":"0820. 单词的压缩编码","ref":"160.md","path":"160.html","children":[]},{"title":"0875. 爱吃香蕉的珂珂","ref":"161.md","path":"161.html","children":[]},{"title":"0877. 石子游戏","ref":"162.md","path":"162.html","children":[]},{"title":"0886. 可能的二分法","ref":"163.md","path":"163.html","children":[]},{"title":"0900. RLE 迭代器","ref":"164.md","path":"164.html","children":[]},{"title":"0912. 排序数组","ref":"165.md","path":"165.html","children":[]},{"title":"0935. 骑士拨号器","ref":"166.md","path":"166.html","children":[]},{"title":"1011. 在 D 天内送达包裹的能力","ref":"167.md","path":"167.html","children":[]},{"title":"1014. 最佳观光组合","ref":"168.md","path":"168.html","children":[]},{"title":"1015. 可被 K 整除的最小整数","ref":"169.md","path":"169.html","children":[]},{"title":"1019. 链表中的下一个更大节点","ref":"170.md","path":"170.html","children":[]},{"title":"1020. 飞地的数量","ref":"171.md","path":"171.html","children":[]},{"title":"1023. 驼峰式匹配","ref":"172.md","path":"172.html","children":[]},{"title":"1031. 两个非重叠子数组的最大和","ref":"173.md","path":"173.html","children":[]},{"title":"1104. 二叉树寻路","ref":"174.md","path":"174.html","children":[]},{"title":"1131.绝对值表达式的最大值","ref":"175.md","path":"175.html","children":[]},{"title":"1186. 删除一次得到子数组最大和","ref":"176.md","path":"176.html","children":[]},{"title":"1218. 最长定差子序列","ref":"177.md","path":"177.html","children":[]},{"title":"1227. 飞机座位分配概率","ref":"178.md","path":"178.html","children":[]},{"title":"1261. 在受污染的二叉树中查找元素","ref":"179.md","path":"179.html","children":[]},{"title":"1262. 可被三整除的最大和","ref":"180.md","path":"180.html","children":[]},{"title":"1297. 子串的最大出现次数","ref":"181.md","path":"181.html","children":[]},{"title":"1310. 子数组异或查询","ref":"182.md","path":"182.html","children":[]},{"title":"1334. 阈值距离内邻居最少的城市","ref":"183.md","path":"183.html","children":[]},{"title":"1371.每个元音包含偶数次的最长子字符串","ref":"184.md","path":"184.html","children":[]}]},{"title":"第六章 - 高频考题（困难）","ref":"185.md","path":"185.html","children":[{"title":"0004. 寻找两个正序数组的中位数","ref":"186.md","path":"186.html","children":[]},{"title":"0023. 合并K个升序链表","ref":"187.md","path":"187.html","children":[]},{"title":"0025. K 个一组翻转链表","ref":"188.md","path":"188.html","children":[]},{"title":"0030. 串联所有单词的子串","ref":"189.md","path":"189.html","children":[]},{"title":"0032. 最长有效括号","ref":"190.md","path":"190.html","children":[]},{"title":"0042. 接雨水","ref":"191.md","path":"191.html","children":[]},{"title":"0052. N皇后 II","ref":"192.md","path":"192.html","children":[]},{"title":"0084. 柱状图中最大的矩形","ref":"193.md","path":"193.html","children":[]},{"title":"0085. 最大矩形","ref":"194.md","path":"194.html","children":[]},{"title":"0124. 二叉树中的最大路径和","ref":"195.md","path":"195.html","children":[]},{"title":"0128. 最长连续序列","ref":"196.md","path":"196.html","children":[]},{"title":"0145. 二叉树的后序遍历","ref":"197.md","path":"197.html","children":[]},{"title":"0212. 单词搜索 II","ref":"198.md","path":"198.html","children":[]},{"title":"0239. 滑动窗口最大值","ref":"199.md","path":"199.html","children":[]},{"title":"0295. 数据流的中位数","ref":"200.md","path":"200.html","children":[]},{"title":"0301. 删除无效的括号","ref":"201.md","path":"201.html","children":[]},{"title":"0312. 戳气球","ref":"202.md","path":"202.html","children":[]},{"title":"0335. 路径交叉","ref":"203.md","path":"203.html","children":[]},{"title":"0460. LFU缓存","ref":"204.md","path":"204.html","children":[]},{"title":"0472. 连接词","ref":"205.md","path":"205.html","children":[]},{"title":"0488. 祖玛游戏","ref":"206.md","path":"206.html","children":[]},{"title":"0493. 翻转对","ref":"207.md","path":"207.html","children":[]},{"title":"0887. 鸡蛋掉落","ref":"208.md","path":"208.html","children":[]},{"title":"0895. 最大频率栈","ref":"209.md","path":"209.html","children":[]},{"title":"1032. 字符流","ref":"210.md","path":"210.html","children":[]},{"title":"1168. 水资源分配优化","ref":"211.md","path":"211.html","children":[]},{"title":"1449. 数位成本和为目标值的最大数字","ref":"212.md","path":"212.html","children":[]}]},{"title":"后序","ref":"213.md","path":"213.html","children":[]}]}],"config":{},"file":{"path":"19.html","content":"# 前缀和\n\n我花了几天时间，从力扣中精选了五道相同思想的题目，来帮助大家解套，如果觉得文章对你有用，记得点赞分享，让我看到你的认可，有动力继续做下去。\n\n- [467. 环绕字符串中唯一的子字符串](https://leetcode-cn.com/problems/unique-substrings-in-wraparound-string/ \"467. 环绕字符串中唯一的子字符串\")(中等)\n- [795. 区间子数组个数](https://leetcode-cn.com/problems/number-of-subarrays-with-bounded-maximum/ \"795. 区间子数组个数\")(中等)\n- [904. 水果成篮](https://leetcode-cn.com/problems/fruit-into-baskets/ \"904. 水果成篮\")(中等)\n- [992. K 个不同整数的子数组](https://leetcode-cn.com/problems/subarrays-with-k-different-integers/ \"992. K 个不同整数的子数组\")（困难）\n- [1109. 航班预订统计](https://leetcode-cn.com/problems/corporate-flight-bookings/ \"1109. 航班预订统计\")(中等)\n\n前四道题都是滑动窗口的子类型，我们知道滑动窗口适合在题目要求连续的情况下使用， 而[前缀和](https://oi-wiki.org/basic/prefix-sum/ \"前缀和\")也是如此。二者在连续问题中，对于**优化时间复杂度**有着很重要的意义。 因此如果一道题你可以用暴力解决出来，而且题目恰好有连续的限制， 那么滑动窗口和前缀和等技巧就应该被想到。\n\n除了这几道题， 还有很多题目都是类似的套路， 大家可以在学习过程中进行体会。今天我们就来一起学习一下。\n\n## 前菜\n\n我们从一个简单的问题入手，识别一下这种题的基本形式和套路，为之后的四道题打基础。当你了解了这个套路之后， 之后做这种题就可以直接套。\n\n需要注意的是这四道题的前置知识都是 `滑动窗口`， 不熟悉的同学可以先看下我之前写的 [滑动窗口专题（思路 + 模板）](https://github.com/azl397985856/leetcode/blob/master/thinkings/slide-window.md \"滑动窗口专题（思路 + 模板）\")\n\n### 母题 0\n\n有 N 个的正整数放到数组 A 里，现在要求一个新的数组 B，新数组的第 i 个数 B\\[i\\]是原数组 A 第 0 到第 i 个数的和。\n\n这道题可以使用前缀和来解决。 前缀和是一种重要的预处理，能大大降低查询的时间复杂度。我们可以简单理解为“数列的前 n 项的和”。这个概念其实很容易理解，即一个数组中，第 n 位存储的是数组前 n 个数字的和。\n\n对 \\[1,2,3,4,5,6\\] 来说，其前缀和可以是 pre=\\[1,3,6,10,15,21\\]。我们可以使用公式 pre\\[𝑖\\]=pre\\[𝑖−1\\]+nums\\[𝑖\\]得到每一位前缀和的值，从而通过前缀和进行相应的计算和解题。其实前缀和的概念很简单，但困难的是如何在题目中使用前缀和以及如何使用前缀和的关系来进行解题。\n\n题目推荐： [1480. 一维数组的动态和](https://leetcode-cn.com/problems/running-sum-of-1d-array/)\n\n### 母题 1\n\n如果让你求一个数组的连续子数组总个数，你会如何求？其中连续指的是数组的索引连续。 比如 \\[1,3,4\\]，其连续子数组有：`[1], [3], [4], [1,3], [3,4] , [1,3,4]`，你需要返回 6。\n\n一种思路是总的连续子数组个数等于：**以索引为 0 结尾的子数组个数 + 以索引为 1 结尾的子数组个数 + ... + 以索引为 n - 1 结尾的子数组个数**，这无疑是完备的。\n\n![](images/c104f4899a80ae9a1e2d745e8afdd13e56d43a19.jpg)\n\n同时**利用母题 0 的前缀和思路， 边遍历边求和。**\n\n参考代码(JS)：\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">countSubArray</span>(<span class=\"hljs-params\">nums</span>) </span>{\n  <span class=\"hljs-keyword\">let</span> ans = <span class=\"hljs-params\">0</span>;\n  <span class=\"hljs-keyword\">let</span> pre = <span class=\"hljs-params\">0</span>;\n  <span class=\"hljs-keyword\">for</span> (_ <span class=\"hljs-keyword\">in</span> nums) {\n    pre += <span class=\"hljs-params\">1</span>;\n    ans += pre;\n  }\n  <span class=\"hljs-keyword\">return</span> ans;\n}\n\n```\n```\n\n**复杂度分析**\n\n- 时间复杂度：O(N)O(N)O(N)，其中 N 为数组长度。\n- 空间复杂度：O(1)O(1)O(1)\n\n而由于以索引为 i 结尾的子数组个数就是 i + 1，因此这道题可以直接用等差数列求和公式 `(1 + n) * n / 2`，其中 n 数组长度。\n\n### 母题 2\n\n我继续修改下题目， 如果让你求一个数组相邻差为 1 连续子数组的总个数呢？其实就是**索引差 1 的同时，值也差 1。**\n\n和上面思路类似，无非就是增加差值的判断。\n\n参考代码(JS)：\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">countSubArray</span>(<span class=\"hljs-params\">nums</span>) </span>{\n  <span class=\"hljs-keyword\">let</span> ans = <span class=\"hljs-params\">1</span>;\n  <span class=\"hljs-keyword\">let</span> pre = <span class=\"hljs-params\">1</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-params\">1</span>; i < nums.length; i++) {\n    <span class=\"hljs-keyword\">if</span> (nums[i] - nums[i - <span class=\"hljs-params\">1</span>] == <span class=\"hljs-params\">1</span>) {\n      pre += <span class=\"hljs-params\">1</span>;\n    } <span class=\"hljs-keyword\">else</span> {\n      pre = <span class=\"hljs-params\">0</span>;\n    }\n\n    ans += pre;\n  }\n  <span class=\"hljs-keyword\">return</span> ans;\n}\n\n```\n```\n\n**复杂度分析**\n\n- 时间复杂度：O(N)O(N)O(N)，其中 N 为数组长度。\n- 空间复杂度：O(1)O(1)O(1)\n\n如果我值差只要大于 1 就行呢？其实改下符号就行了，这不就是求上升子序列个数么？这里不再继续赘述， 大家可以自己试试。\n\n### 母题 3\n\n我们继续扩展。\n\n如果我让你求出不大于 k 的子数组的个数呢？不大于 k 指的是子数组的全部元素都不大于 k。 比如 \\[1,3,4\\] 子数组有 `[1], [3], [4], [1,3], [3,4] , [1,3,4]`，不大于 3 的子数组有 `[1], [3], [1,3]` ，那么 \\[1,3,4\\] 不大于 3 的子数组个数就是 3。 实现函数 atMostK(k, nums)。\n\n参考代码（JS）:\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">countSubArray</span>(<span class=\"hljs-params\">k, nums</span>) </span>{\n  <span class=\"hljs-keyword\">let</span> ans = <span class=\"hljs-params\">0</span>;\n  <span class=\"hljs-keyword\">let</span> pre = <span class=\"hljs-params\">0</span>;\n  <span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">let</span> i = <span class=\"hljs-params\">0</span>; i < nums.length; i++) {\n    <span class=\"hljs-keyword\">if</span> (nums[i] <= k) {\n      pre += <span class=\"hljs-params\">1</span>;\n    } <span class=\"hljs-keyword\">else</span> {\n      pre = <span class=\"hljs-params\">0</span>;\n    }\n\n    ans += pre;\n  }\n  <span class=\"hljs-keyword\">return</span> ans;\n}\n\n```\n```\n\n**复杂度分析**\n\n- 时间复杂度：O(N)O(N)O(N)，其中 N 为数组长度。\n- 空间复杂度：O(1)O(1)O(1)\n\n### 母题 4\n\n如果我让你求出子数组最大值刚好是 k 的子数组的个数呢？ 比如 \\[1,3,4\\] 子数组有 `[1], [3], [4], [1,3], [3,4] , [1,3,4]`，子数组最大值刚好是 3 的子数组有 `[3], [1,3]` ，那么 \\[1,3,4\\] 子数组最大值刚好是 3 的子数组个数就是 2。实现函数 exactK(k, nums)。\n\n实际上是 exactK 可以直接利用 atMostK，即 atMostK(k) - atMostK(k - 1)，原因见下方母题 5 部分。\n\n### 母题 5\n\n如果我让你求出子数组最大值刚好是 介于 k1 和 k2 的子数组的个数呢？实现函数 betweenK(k1, k2, nums)。\n\n实际上是 betweenK 可以直接利用 atMostK，即 atMostK(k1, nums) - atMostK(k2 - 1, nums)，其中 k1 > k2。前提是值是离散的， 比如上面我出的题都是整数。 因此我可以直接 减 1，因为 **1 是两个整数最小的间隔**。\n\n![](images/258af2d19c3143e64a095f2415d67c8d12e5da84.jpg)\n\n如上，`小于等于 10 的区域`减去 `小于 5 的区域`就是 `大于等于 5 且小于等于 10 的区域`。\n\n注意我说的是小于 5， 不是小于等于 5。 由于整数是离散的，最小间隔是 1。因此小于 5 在这里就等价于 小于等于 4。这就是 betweenK(k1, k2, nums) = atMostK(k1) - atMostK(k2 - 1) 的原因。\n\n因此不难看出 exactK 其实就是 betweenK 的特殊形式。 当 k1 == k2 的时候， betweenK 等价于 exactK。\n\n因此 atMostK 就是灵魂方法，一定要掌握，不明白建议多看几遍。\n\n有了上面的铺垫， 我们来看下第一道题。\n\n## 467. 环绕字符串中唯一的子字符串（中等）\n\n### 题目描述\n\n```\n<pre class=\"calibre18\">```\n把字符串 s 看作是“abcdefghijklmnopqrstuvwxyz”的无限环绕字符串，所以 s 看起来是这样的：\"...zabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcd....\". \n\n现在我们有了另一个字符串 p 。你需要的是找出 s 中有多少个唯一的 p 的非空子串，尤其是当你的输入是字符串 p ，你需要输出字符串 s 中 p 的不同的非空子串的数目。 \n\n注意: p 仅由小写的英文字母组成，p 的大小可能超过 10000。\n\n\n\n示例 1:\n\n输入: \"a\"\n输出: 1\n解释: 字符串 S 中只有一个\"a\"子字符。\n\n\n示例 2:\n\n输入: \"cac\"\n输出: 2\n解释: 字符串 S 中的字符串“cac”只有两个子串“a”、“c”。.\n\n\n示例 3:\n\n输入: \"zab\"\n输出: 6\n解释: 在字符串 S 中有六个子串“z”、“a”、“b”、“za”、“ab”、“zab”。.\n\n```\n```\n\n### 前置知识\n\n- 滑动窗口\n\n### 思路\n\n题目是让我们找 p 在 s 中出现的非空子串数目，而 s 是固定的一个无限循环字符串。由于 p 的数据范围是 10^5 ，因此暴力找出所有子串就需要 10^10 次操作了，应该会超时。而且题目很多信息都没用到，肯定不对。\n\n仔细看下题目发现，这不就是母题 2 的变种么？话不多说， 直接上代码，看看有多像。\n\n> 为了减少判断， 我这里用了一个黑科技， p 前面加了个 `^`。\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">findSubstringInWraproundString</span><span class=\"hljs-params\">(self, p: str)</span> -> int:</span>\n        p = <span class=\"hljs-string\">'^'</span> + p\n        w = <span class=\"hljs-params\">1</span>\n        ans = <span class=\"hljs-params\">0</span>\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> range(<span class=\"hljs-params\">1</span>,len(p)):\n            <span class=\"hljs-keyword\">if</span> ord(p[i])-ord(p[i<span class=\"hljs-params\">-1</span>]) == <span class=\"hljs-params\">1</span> <span class=\"hljs-keyword\">or</span> ord(p[i])-ord(p[i<span class=\"hljs-params\">-1</span>]) == <span class=\"hljs-params\">-25</span>:\n                w += <span class=\"hljs-params\">1</span>\n            <span class=\"hljs-keyword\">else</span>:\n                w = <span class=\"hljs-params\">1</span>\n            ans += w\n        <span class=\"hljs-keyword\">return</span> ans\n\n```\n```\n\n如上代码是有问题。 比如 `cac`会被计算为 3，实际上应该是 2。根本原因在于 c 被错误地计算了两次。因此一个简单的思路就是用 set 记录一下访问过的子字符串即可。比如：\n\n```\n<pre class=\"calibre18\">```\n{\n    c,\n    abc,\n    ab,\n    abcd\n}\n\n```\n```\n\n而由于 set 中的元素一定是连续的，因此上面的数据也可以用 hashmap 存：\n\n```\n<pre class=\"calibre18\">```\n{\n    c: 3\n    d: 4\n    b: 1\n}\n\n```\n```\n\n含义是：\n\n- 以 b 结尾的子串最大长度为 1，也就是 b。\n- 以 c 结尾的子串最大长度为 3，也就是 abc。\n- 以 d 结尾的子串最大长度为 4，也就是 abcd。\n\n至于 c ，是没有必要存的。我们可以通过母题 2 的方式算出来。\n\n具体算法：\n\n- 定义一个 len\\_mapper。key 是 字母， value 是 长度。 含义是以 key 结尾的最长连续子串的长度。\n\n> 关键字是：最长\n\n- 用一个变量 w 记录连续子串的长度，遍历过程根据 w 的值更新 len\\_mapper\n- 返回 len\\_mapper 中所有 value 的和。\n\n比如: abc，此时的 len\\_mapper 为:\n\n```\n<pre class=\"calibre18\">```\n{\n    c: <span class=\"hljs-params\">3</span>\n    b: <span class=\"hljs-params\">2</span>\n    a: <span class=\"hljs-params\">1</span>\n}\n\n```\n```\n\n再比如：abcab，此时的 len\\_mapper 依旧。\n\n再比如: abcazabc，此时的 len\\_mapper：\n\n```\n<pre class=\"calibre18\">```\n{\n    c: <span class=\"hljs-params\">4</span>\n    b: <span class=\"hljs-params\">3</span>\n    a: <span class=\"hljs-params\">2</span>\n    z: <span class=\"hljs-params\">1</span>\n}\n\n```\n```\n\n这就得到了去重的目的。这种算法是不重不漏的，因为最长的连续子串一定是包含了比它短的连续子串，这个思想和 [1297. 子串的最大出现次数](https://github.com/azl397985856/leetcode/issues/266 \"1297. 子串的最大出现次数\") 剪枝的方法有异曲同工之妙。\n\n### 代码（Python）\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">findSubstringInWraproundString</span><span class=\"hljs-params\">(self, p: str)</span> -> int:</span>\n        p = <span class=\"hljs-string\">'^'</span> + p\n        len_mapper = collections.defaultdict(<span class=\"hljs-keyword\">lambda</span>: <span class=\"hljs-params\">0</span>)\n        w = <span class=\"hljs-params\">1</span>\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> range(<span class=\"hljs-params\">1</span>,len(p)):\n            <span class=\"hljs-keyword\">if</span> ord(p[i])-ord(p[i<span class=\"hljs-params\">-1</span>]) == <span class=\"hljs-params\">1</span> <span class=\"hljs-keyword\">or</span> ord(p[i])-ord(p[i<span class=\"hljs-params\">-1</span>]) == <span class=\"hljs-params\">-25</span>:\n                w += <span class=\"hljs-params\">1</span>\n            <span class=\"hljs-keyword\">else</span>:\n                w = <span class=\"hljs-params\">1</span>\n            len_mapper[p[i]] = max(len_mapper[p[i]], w)\n        <span class=\"hljs-keyword\">return</span> sum(len_mapper.values())\n\n```\n```\n\n**复杂度分析**\n\n- 时间复杂度：O(N)O(N)O(N)，其中 NNN 为字符串 p 的长度。\n- 空间复杂度：由于最多存储 26 个字母， 因此空间实际上是常数，故空间复杂度为 O(1)O(1)O(1)。\n\n## 795. 区间子数组个数（中等）\n\n### 题目描述\n\n```\n<pre class=\"calibre18\">```\n\n给定一个元素都是正整数的数组 A ，正整数 L  以及  R (L <= R)。\n\n求连续、非空且其中最大元素满足大于等于 L  小于等于 R 的子数组个数。\n\n例如 :\n输入:\nA = [2, 1, 4, 3]\nL = 2\nR = 3\n输出: 3\n解释: 满足条件的子数组: [2], [2, 1], [3].\n注意:\n\nL, R  和  A[i] 都是整数，范围在  [0, 10^9]。\n数组  A  的长度范围在[1, 50000]。\n\n```\n```\n\n### 前置知识\n\n- 滑动窗口\n\n### 思路\n\n由母题 5，我们知道 **betweenK 可以直接利用 atMostK，即 atMostK(k1) - atMostK(k2 - 1)，其中 k1 > k2**。\n\n由母题 2，我们知道如何求满足一定条件（这里是元素都小于等于 R）子数组的个数。\n\n这两个结合一下， 就可以解决。\n\n### 代码（Python）\n\n> 代码是不是很像\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">numSubarrayBoundedMax</span><span class=\"hljs-params\">(self, A: List[int], L: int, R: int)</span> -> int:</span>\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">notGreater</span><span class=\"hljs-params\">(R)</span>:</span>\n            ans = cnt = <span class=\"hljs-params\">0</span>\n            <span class=\"hljs-keyword\">for</span> a <span class=\"hljs-keyword\">in</span> A:\n                <span class=\"hljs-keyword\">if</span> a <= R: cnt += <span class=\"hljs-params\">1</span>\n                <span class=\"hljs-keyword\">else</span>: cnt = <span class=\"hljs-params\">0</span>\n                ans += cnt\n            <span class=\"hljs-keyword\">return</span>  ans\n\n        <span class=\"hljs-keyword\">return</span> notGreater(R) - notGreater(L - <span class=\"hljs-params\">1</span>)\n\n```\n```\n\n***复杂度分析***\n\n- 时间复杂度：O(N)O(N)O(N)，其中 NNN 为数组长度。\n- 空间复杂度：O(1)O(1)O(1)。\n\n## 904. 水果成篮（中等）\n\n### 题目描述\n\n```\n<pre class=\"calibre18\">```\n在一排树中，第 i 棵树产生 tree[i] 型的水果。\n你可以从你选择的任何树开始，然后重复执行以下步骤：\n\n把这棵树上的水果放进你的篮子里。如果你做不到，就停下来。\n移动到当前树右侧的下一棵树。如果右边没有树，就停下来。\n请注意，在选择一颗树后，你没有任何选择：你必须执行步骤 1，然后执行步骤 2，然后返回步骤 1，然后执行步骤 2，依此类推，直至停止。\n\n你有两个篮子，每个篮子可以携带任何数量的水果，但你希望每个篮子只携带一种类型的水果。\n\n用这个程序你能收集的水果树的最大总量是多少？\n\n\n\n示例 1：\n\n输入：[1,2,1]\n输出：3\n解释：我们可以收集 [1,2,1]。\n示例 2：\n\n输入：[0,1,2,2]\n输出：3\n解释：我们可以收集 [1,2,2]\n如果我们从第一棵树开始，我们将只能收集到 [0, 1]。\n示例 3：\n\n输入：[1,2,3,2,2]\n输出：4\n解释：我们可以收集 [2,3,2,2]\n如果我们从第一棵树开始，我们将只能收集到 [1, 2]。\n示例 4：\n\n输入：[3,3,3,1,2,1,1,2,3,3,4]\n输出：5\n解释：我们可以收集 [1,2,1,1,2]\n如果我们从第一棵树或第八棵树开始，我们将只能收集到 4 棵水果树。\n\n\n提示：\n\n1 <= tree.length <= 40000\n0 <= tree[i] < tree.length\n\n```\n```\n\n### 前置知识\n\n- 滑动窗口\n\n### 思路\n\n题目花里胡哨的。我们来抽象一下，就是给你一个数组， 让你**选定一个子数组， 这个子数组最多只有两种数字**，这个选定的子数组最大可以是多少。\n\n这不就和母题 3 一样么？只不过 k 变成了固定值 2。另外由于题目要求整个窗口最多两种数字，我们用哈希表存一下不就好了吗？\n\n> set 是不行了的。 因此我们不但需要知道几个数字在窗口， 我们还要知道每个数字出现的次数，这样才可以使用滑动窗口优化时间复杂度。\n\n### 代码（Python）\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">totalFruit</span><span class=\"hljs-params\">(self, tree: List[int])</span> -> int:</span>\n        <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">atMostK</span><span class=\"hljs-params\">(k, nums)</span>:</span>\n            i = ans = <span class=\"hljs-params\">0</span>\n            win = defaultdict(<span class=\"hljs-keyword\">lambda</span>: <span class=\"hljs-params\">0</span>)\n            <span class=\"hljs-keyword\">for</span> j <span class=\"hljs-keyword\">in</span> range(len(nums)):\n                <span class=\"hljs-keyword\">if</span> win[nums[j]] == <span class=\"hljs-params\">0</span>: k -= <span class=\"hljs-params\">1</span>\n                win[nums[j]] += <span class=\"hljs-params\">1</span>\n                <span class=\"hljs-keyword\">while</span> k < <span class=\"hljs-params\">0</span>:\n                    win[nums[i]] -= <span class=\"hljs-params\">1</span>\n                    <span class=\"hljs-keyword\">if</span> win[nums[i]] == <span class=\"hljs-params\">0</span>: k += <span class=\"hljs-params\">1</span>\n                    i += <span class=\"hljs-params\">1</span>\n                ans = max(ans, j - i + <span class=\"hljs-params\">1</span>)\n            <span class=\"hljs-keyword\">return</span> ans\n\n        <span class=\"hljs-keyword\">return</span> atMostK(<span class=\"hljs-params\">2</span>, tree)\n\n```\n```\n\n**复杂度分析**\n\n- 时间复杂度：O(N)O(N)O(N)，其中 NNN 为数组长度。\n- 空间复杂度：O(k)O(k)O(k)。\n\n## 992. K 个不同整数的子数组（困难）\n\n### 题目描述\n\n```\n<pre class=\"calibre18\">```\n给定一个正整数数组 A，如果 A 的某个子数组中不同整数的个数恰好为 K，则称 A 的这个连续、不一定独立的子数组为好子数组。\n\n（例如，[1,2,3,1,2] 中有 3 个不同的整数：1，2，以及 3。）\n\n返回 A 中好子数组的数目。\n\n\n\n示例 1：\n\n输入：A = [1,2,1,2,3], K = 2\n输出：7\n解释：恰好由 2 个不同整数组成的子数组：[1,2], [2,1], [1,2], [2,3], [1,2,1], [2,1,2], [1,2,1,2].\n示例 2：\n\n输入：A = [1,2,1,3,4], K = 3\n输出：3\n解释：恰好由 3 个不同整数组成的子数组：[1,2,1,3], [2,1,3], [1,3,4].\n\n\n提示：\n\n1 <= A.length <= 20000\n1 <= A[i] <= A.length\n1 <= K <= A.length\n\n```\n```\n\n### 前置知识\n\n- 滑动窗口\n\n### 思路\n\n由母题 5，知：exactK = atMostK(k) - atMostK(k - 1)， 因此答案便呼之欲出了。其他部分和上面的题目 `904. 水果成篮` 一样。\n\n> 实际上和所有的滑动窗口题目都差不多。\n\n### 代码（Python）\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">subarraysWithKDistinct</span><span class=\"hljs-params\">(self, A, K)</span>:</span>\n        <span class=\"hljs-keyword\">return</span> self.atMostK(A, K) - self.atMostK(A, K - <span class=\"hljs-params\">1</span>)\n\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">atMostK</span><span class=\"hljs-params\">(self, A, K)</span>:</span>\n        counter = collections.Counter()\n        res = i = <span class=\"hljs-params\">0</span>\n        <span class=\"hljs-keyword\">for</span> j <span class=\"hljs-keyword\">in</span> range(len(A)):\n            <span class=\"hljs-keyword\">if</span> counter[A[j]] == <span class=\"hljs-params\">0</span>:\n                K -= <span class=\"hljs-params\">1</span>\n            counter[A[j]] += <span class=\"hljs-params\">1</span>\n            <span class=\"hljs-keyword\">while</span> K < <span class=\"hljs-params\">0</span>:\n                counter[A[i]] -= <span class=\"hljs-params\">1</span>\n                <span class=\"hljs-keyword\">if</span> counter[A[i]] == <span class=\"hljs-params\">0</span>:\n                    K += <span class=\"hljs-params\">1</span>\n                i += <span class=\"hljs-params\">1</span>\n            res += j - i + <span class=\"hljs-params\">1</span>\n        <span class=\"hljs-keyword\">return</span> res\n\n```\n```\n\n**复杂度分析**\n\n- 时间复杂度：O(N)O(N)O(N)，中 NNN 为数组长度。\n- 空间复杂度：O(k)O(k)O(k)。\n\n## 1109. 航班预订统计（中等）\n\n### 题目描述\n\n```\n<pre class=\"calibre18\">```\n\n这里有  n  个航班，它们分别从 1 到 n 进行编号。\n\n我们这儿有一份航班预订表，表中第  i  条预订记录  bookings[i] = [i, j, k]  意味着我们在从  i  到  j  的每个航班上预订了 k 个座位。\n\n请你返回一个长度为 n 的数组  answer，按航班编号顺序返回每个航班上预订的座位数。\n\n\n\n示例：\n\n输入：bookings = [[1,2,10],[2,3,20],[2,5,25]], n = 5\n输出：[10,55,45,25,25]\n\n\n\n提示：\n\n1 <= bookings.length <= 20000\n1 <= bookings[i][0] <= bookings[i][1] <= n <= 20000\n1 <= bookings[i][2] <= 10000\n\n```\n```\n\n### 前置知识\n\n- 前缀和\n\n### 思路\n\n这道题的题目描述不是很清楚。我简单分析一下题目：\n\n\\[i, j, k\\] 其实代表的是 第 i 站上来了 k 个人， 一直到 第 j 站都在飞机上，到第 j + 1 就不在飞机上了。所以第 i 站到第 j 站的**每一站**都会因此多 k 个人。\n\n理解了题目只会不难写出下面的代码。\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">corpFlightBookings</span><span class=\"hljs-params\">(self, bookings: List[List[int]], n: int)</span> -> List[int]:</span>\n        counter = [<span class=\"hljs-params\">0</span>] * n\n\n        <span class=\"hljs-keyword\">for</span> i, j, k <span class=\"hljs-keyword\">in</span> bookings:\n            <span class=\"hljs-keyword\">while</span> i <= j:\n                counter[i - <span class=\"hljs-params\">1</span>] += k\n                i += <span class=\"hljs-params\">1</span>\n        <span class=\"hljs-keyword\">return</span> counter\n\n```\n```\n\n如上的代码复杂度太高，无法通过全部的测试用例。\n\n**注意到里层的 while 循环是连续的数组全部加上一个数字，不难想到可以利用母题 0 的前缀和思路优化。**\n\n![](images/3d7ebb3b18a645cff858d12b54738e2b2da06d89.jpg)\n\n一种思路就是在 i 的位置 + k， 然后利用前缀和的技巧给 i 到 n 的元素都加上 k。但是题目需要加的是一个区间， j + 1 及其之后的元素会被多加一个 k。一个简单的技巧就是给 j + 1 的元素减去 k，这样正负就可以抵消。\n\n![](images/2f34fd0a13e2ec11fb08c77aa2ace2376d28ce57.jpg)\n\n### 代码（Python）\n\n```\n<pre class=\"calibre18\">```\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">Solution</span>:</span>\n    <span class=\"hljs-function\"><span class=\"hljs-keyword\">def</span> <span class=\"hljs-title\">corpFlightBookings</span><span class=\"hljs-params\">(self, bookings: List[List[int]], n: int)</span> -> List[int]:</span>\n        counter = [<span class=\"hljs-params\">0</span>] * (n + <span class=\"hljs-params\">1</span>)\n\n        <span class=\"hljs-keyword\">for</span> i, j, k <span class=\"hljs-keyword\">in</span> bookings:\n            counter[i - <span class=\"hljs-params\">1</span>] += k\n            <span class=\"hljs-keyword\">if</span> j < n: counter[j] -= k\n        <span class=\"hljs-keyword\">for</span> i <span class=\"hljs-keyword\">in</span> range(n + <span class=\"hljs-params\">1</span>):\n            counter[i] += counter[i - <span class=\"hljs-params\">1</span>]\n        <span class=\"hljs-keyword\">return</span> counter[:<span class=\"hljs-params\">-1</span>]\n\n```\n```\n\n**复杂度分析**\n\n- 时间复杂度：O(N)O(N)O(N)，中 NNN 为数组长度。\n- 空间复杂度：O(N)O(N)O(N)。\n\n## 总结\n\n这几道题都是滑动窗口和前缀和的思路。力扣类似的题目还真不少，大家只有多留心，就会发现这个套路。\n\n前缀和的技巧以及滑动窗口的技巧都比较固定，且有模板可套。 难点就在于我怎么才能想到可以用这个技巧呢？\n\n我这里总结了两点：\n\n1. 找关键字。比如题目中有连续，就应该条件反射想到滑动窗口和前缀和。比如题目求最大最小就想到动态规划和贪心等等。想到之后，就可以和题目信息对比快速排除错误的算法，找到可行解。这个思考的时间会随着你的题感增加而降低。\n2. 先写出暴力解，然后找暴力解的瓶颈， 根据瓶颈就很容易知道应该用什么数据结构和算法去优化。\n\n最后推荐几道类似的题目， 供大家练习，一定要自己写出来才行哦。\n\n- [303. 区域和检索 - 数组不可变](https://leetcode-cn.com/problems/range-sum-query-immutable/description/ \"303. 区域和检索 - 数组不可变\")\n- [1186.删除一次得到子数组最大和](https://lucifer.ren/blog/2019/12/11/leetcode-1186/ \"1186.删除一次得到子数组最大和\")\n- [1310. 子数组异或查询](https://lucifer.ren/blog/2020/01/09/1310.xor-queries-of-a-subarray/ \"1310. 子数组异或查询\")\n- [1371. 每个元音包含偶数次的最长子字符串](https://github.com/azl397985856/leetcode/blob/master/problems/1371.find-the-longest-substring-containing-vowels-in-even-counts.md \"1371. 每个元音包含偶数次的最长子字符串\")\n\n大家对此有何看法，欢迎给我留言，我有时间都会一一查看回答。\n\n更多算法套路可以访问我的 LeetCode 题解仓库：<https://github.com/azl397985856/leetcode> 。 目前已经 36K star 啦。\n\n大家也可以关注我的公众号《力扣加加》带你啃下算法这块硬骨头。\n\n![](images/6544564e577c3c2404c48edb29af7e19eb1c2cb9.jpg)"},"options":{}}
</script>

<script src="https://jsdelivr.topthink.com/npm/lodash@4.17/lodash.min.js"></script>

<script src="https://jsdelivr.topthink.com/npm/react@17/umd/react.production.min.js"></script>

<script src="https://jsdelivr.topthink.com/npm/react-dom@17/umd/react-dom.production.min.js"></script>

<script src="asset/index.js"></script>

<script src="asset/plugins/theme-default/index.js"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>


</body></html>